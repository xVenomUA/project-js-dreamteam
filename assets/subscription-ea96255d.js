import{a as c}from"./vendor-611745ce.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const a="https://food-boutique.b.goit.study/api";async function E(){try{return(await c.get(`${a}/products/categories`)).data}catch(e){console.log(e)}}async function O(e,t,n,s,o,r,i){try{const d=new URLSearchParams({keyword:e||"",category:t||"",byABC:n||!1,byPrice:s||!1,byPopularity:o||!1,page:r,limit:i});return(await c.get(`${a}/products?${d.toString()}`)).data}catch(d){console.log(d.message)}}async function $(e){try{return(await c.get(`${a}/products/${e}`)).data}catch(t){console.log(t.message)}}async function A(){try{return await c.get(`${a}/products/popular?limit=5`)}catch(e){console.log(e.message)}}async function I(){try{return await c.get(`${a}/products/discount`)}catch(e){console.log(e.message)}}async function y(e){return(await c.post(`${a}/subscription`,e)).data}async function M(e){return(await c.post(`${a}/orders`,e)).data}const T="/project-js-dreamteam/assets/icon-ed92c614.svg",u=document.querySelector(".footer-form"),p=document.querySelector(".modal-backdrop"),g=document.querySelector(".modal-subscribe-container"),h=document.querySelector(".modal-unsubscription-container"),b=document.querySelectorAll(".modal-close-btn"),f=document.querySelector(".loader"),m=document.querySelector(".footer-btn-to-top"),v=document.querySelector(".footer-container"),w=document.querySelector(".modal-container");w.classList.add("is-hidden");function l(e,t=!0){p.classList.toggle("is-hidden",!e),g.classList.toggle("is-hidden",!t),h.classList.toggle("is-hidden",t),document.body.style.overflow="hidden"}function L(){const e=document.querySelector(".error-message");e.style.display="block",setTimeout(()=>e.style.display="none",2e3)}async function S(e){e.preventDefault();const t=u.querySelector(".footer-form-email").value;f.classList.remove("is-hidden");function n(s){s.target===p&&l(!1),document.body.style.overflow="scroll"}p.addEventListener("click",n);try{const s=await y({email:t});console.log(s.data),l(!0)}catch(s){s.response&&(s.response.status===409?l(!0,!1):L())}finally{f.classList.add("is-hidden"),u.reset()}}function P(){const e=n=>{n.forEach(s=>{m.style.display=s.isIntersecting?"block":"none"})};new IntersectionObserver(e,{root:null,threshold:.5}).observe(v),m.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}))}document.addEventListener("DOMContentLoaded",()=>{const e=window.location.pathname;(e.endsWith("index.html")||e==="/")&&P()});u.addEventListener("submit",S);b.forEach(e=>e.addEventListener("click",()=>l(!1)));export{E as A,O as a,A as b,I as c,$ as g,T as i,M as p};
//# sourceMappingURL=subscription-ea96255d.js.map
