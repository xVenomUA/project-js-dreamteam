import{a as c}from"./vendor-611745ce.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const a="https://food-boutique.b.goit.study/api";async function E(){try{return(await c.get(`${a}/products/categories`)).data}catch(e){console.log(e)}}async function O(e,t,n,r,o,s,i){try{const d=new URLSearchParams({keyword:e||"",category:t||"",byABC:n||!1,byPrice:r||!1,byPopularity:o||!1,page:s,limit:i});return(await c.get(`${a}/products?${d.toString()}`)).data}catch(d){console.log(d.message)}}async function $(e){try{return(await c.get(`${a}/products/${e}`)).data}catch(t){console.log(t.message)}}async function A(){try{return await c.get(`${a}/products/popular?limit=5`)}catch(e){console.log(e.message)}}async function I(){try{return await c.get(`${a}/products/discount`)}catch(e){console.log(e.message)}}async function y(e){return(await c.post(`${a}/subscription`,e)).data}const M="/project-js-dreamteam/assets/icon-ed92c614.svg",u=document.querySelector(".footer-form"),p=document.querySelector(".modal-backdrop"),g=document.querySelector(".modal-subscribe-container"),h=document.querySelector(".modal-unsubscription-container"),b=document.querySelectorAll(".modal-close-btn"),f=document.querySelector(".loader"),m=document.querySelector(".footer-btn-to-top"),L=document.querySelector(".footer-container"),S=document.querySelector(".modal-container");S.classList.add("is-hidden");function l(e,t=!0){p.classList.toggle("is-hidden",!e),g.classList.toggle("is-hidden",!t),h.classList.toggle("is-hidden",t)}function v(){const e=document.querySelector(".error-message");e.style.display="block",setTimeout(()=>e.style.display="none",2e3)}async function w(e){e.preventDefault();const t=u.querySelector(".footer-form-email").value;f.classList.remove("is-hidden");function n(r){r.target===p&&l(!1)}p.addEventListener("click",n);try{const r=await y({email:t});console.log(r.data),l(!0)}catch(r){r.response&&(r.response.status===409?l(!0,!1):v())}finally{f.classList.add("is-hidden"),u.reset()}}function P(){const e=n=>{n.forEach(r=>{m.style.display=r.isIntersecting?"block":"none"})};new IntersectionObserver(e,{root:null,threshold:.5}).observe(L),m.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}))}document.addEventListener("DOMContentLoaded",()=>{const e=window.location.pathname;(e.endsWith("index.html")||e==="/")&&P()});u.addEventListener("submit",w);b.forEach(e=>e.addEventListener("click",()=>l(!1)));export{E as A,A as a,O as b,I as c,$ as g,M as i};
//# sourceMappingURL=subscription-935feb41.js.map
