{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/APIFoodBoutique.js","../src/img/icon.svg","../src/js/FilterMarkUp.js","../src/js/filter.js"],"sourcesContent":["export const refs = {\n  categor: document.querySelector('.filter-categories'),\n  filtercard: document.querySelector('.filter-cards'),\n  form: document.querySelector('.filter-div-label'),\n  filtersInput: document.getElementById('filter-search'),\n  filtersCategories: document.querySelector('.filter-categories'),\n};\n","// Валентин Громадський  .запити на бекенд\nimport axios from 'axios';\nconst BASE_URL = 'https://food-boutique.b.goit.study/api';\n\n// запит для рендеру списку категорій\nexport async function APICategories() {\n  try {\n    const response = await axios.get(`${BASE_URL}/products/categories`);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//  запит для рендеру карток продуктів з фільтрацією\nexport async function APIProductSearch(\n  word,\n  category,\n  byABC,\n  byPrice,\n  byPopularity,\n  page\n) {\n  try {\n    const option = new URLSearchParams({\n      word: word || false,\n      category: category || '',\n      byABC: byABC || false,\n      byPrice: byPrice || false,\n      byPopularity: byPopularity || false,\n      page: page,\n      limit: 6,\n    });\n    const response = await axios.get(\n      `${BASE_URL}/products?${option.toString()}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// запит для детальної інформація про продукт ( пошук по id)\nexport async function getProductById(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}/products/${id}`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// запити для рендеру карток популярних продуктів\nexport async function getPopularProduct() {\n  try {\n    const popularProducts = await axios.get(\n      `${BASE_URL}/products/popular?limit=5`\n    );\n    console.log(popularProducts);\n    return popularProducts;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// запити для рендеру карток продуктів з знижкою\nexport async function getDiskountProduct() {\n  try {\n    const diskountProduct = await axios.get(`${BASE_URL}/products/discount`);\n    return diskountProduct;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// запит для підписки на розсилку нових продуків\nexport async function postSubscription(data) {\n  const response = await axios.post(`${BASE_URL}/subscription`, data);\n  return response.data;\n}\n\n// запит для оформлення замовлення продуктів\nexport async function postOrders(data) {\n  const response = await axios.post(`${BASE_URL}/orders`, data);\n  return response.data;\n}\n","export default \"__VITE_ASSET__ee1b585b__\"","import { refs } from \"../js/refs\";\nimport iconimg from '/img/icon.svg';\nexport function FilterMarkUp(filterinfo) {\n  const array = filterinfo\n    .map(({ category, img, name, size, popularity, price }) => {\n        return `<div class=\"filt-div-card\">\n      <div class=\"filt-div-img\">\n  <img class=\"filt-img\" src=\"${img}\" alt=\"${name}\" width=\"140\">\n  </div>\n  <h2 class=\"filt-h-name\">${name}</h2>\n  <div class=\"filt-div-text\">\n    <p class=\"filt-text\">Category: <span class=\"filt-span\">${category}</span></p>\n    <p class=\"filt-text\">Size: <span class=\"filt-span\">${size}</span></p>\n    <p class=\"filt-text\">Popularity: <span class=\"filt-span\">${popularity}</span></p>\n  </div>\n  <div class=\"filt-div-price\"> \n    <h2 class=\"filt-h-price\">${price}</h2>\n    <button class=\"filt-btn-card\" type=\"submit\">\n      <svg class=\"filt-card-icon\" height=\"18\" width=\"18\" >\n          <use href=\"${iconimg}#icon-shop\"></use>\n        </svg>\n    </button>\n  </div>\n</div>\n`;\n    })\n        .join('');\n    refs.filtercard.innerHTML = array;\n}","/* <!-- ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n    Ондрій + Andrian Pohrebniak + Pasha\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴ --> */\n\nimport { refs } from '../js/refs';\nimport { APIProductSearch, APICategories } from './APIFoodBoutique';\nimport { FilterMarkUp } from './FilterMarkUp';\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// РЕНДЕР КАТЕГОРІЙ В СЕЛЕКТІ\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\nasync function GetCategories() {\n  try {\n    const categResult = await APICategories();\n    categResult.push('Show all');\n    const markUpCategories = categResult\n      .map(data => `<option value=\"${data}\">${data}</option>`)\n      .join('');\n    refs.categor.innerHTML += markUpCategories;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// РЕНДЕР КАРТОК В СЕЛЕКТІ\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\nasync function GetCards() {\n  try {\n    const seacrhresult = await APIProductSearch('', '', '', '', '', 1);\n    const results = seacrhresult.results;\n    FilterMarkUp(results);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nGetCategories();\nGetCards();\n\nif (refs.form) {\n  refs.form.addEventListener('input', handleFiltersInput);\n  refs.form.addEventListener('submit', handleFiltersSubmit);\n}\n\nconst localValueChange = { keyword: null };\nconst localValue = { keyword: null, category: null, page: 1, limit: 6 };\n\n// функція запису в локалсторидж при введенні тексту в INPUT\nasync function handleFiltersInput() {\n  const filtersValue = refs.filtersInput.value;\n  localValueChange.keyword = filtersValue;\n  if (filtersValue === '') {\n    localValueChange.keyword = null;\n  }\n\n  localStorage.setItem('keyword', JSON.stringify(localValueChange));\n}\n\n// функція запису значень ключового слова і категорії в локалсторидж при нажатті на кнопку\nasync function handleFiltersSubmit() {\n  const filtersValue = refs.filtersInput.value;\n  localValue.keyword = filtersValue;\n  if (filtersValue === '') {\n    localValue.keyword = null;\n  }\n  const filtersCatValue = refs.filtersCategories.value;\n  localValue.category = filtersCatValue;\n  if (filtersCatValue === '') {\n    localValue.category = null;\n  }\n  if (filtersCatValue === 'Show all') {\n    localValue.category = null;\n  }\n\n  localStorage.setItem('filters', JSON.stringify(localValue));\n}\n\n// функція запису ключового слова з локал сторидж  в INPUT при перезавантаженні сторінки.\nfunction changeForm() {\n  try {\n  const filtersParce = JSON.parse(localStorage.getItem('keyword'));\n  if (refs.filtersInput) {\n    refs.filtersInput.value = filtersParce.keyword || '';\n  }\n}\ncatch (error) {\n  return\n}\n}\nchangeForm();\n"],"names":["refs","BASE_URL","APICategories","axios","error","APIProductSearch","word","category","byABC","byPrice","byPopularity","page","option","iconimg","FilterMarkUp","filterinfo","array","img","name","size","popularity","price","GetCategories","categResult","markUpCategories","data","GetCards","results","handleFiltersInput","handleFiltersSubmit","localValueChange","localValue","filtersValue","filtersCatValue","changeForm","filtersParce"],"mappings":"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"}