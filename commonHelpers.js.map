{"version":3,"file":"commonHelpers.js","sources":["../src/js/korzina.js"],"sourcesContent":["import { getProductById } from \"./APIFoodBoutique\";\n\n\n/* <!-- ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n    Ivan || Yulia \n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴ --> */\n// common\nconst common = {\n  FILTERS_KEY: 'filters',\n  CART_KEY: 'cart',\n};\nconst cardCounter = document.querySelector('span#cart-counter');\nconst cartJsBlock = document.querySelector('.js-cart-block');\nconst cartListBlock = document.querySelector('.cart-list-block');\n\nfunction getDataLocalStorage(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.log(error.message);\n  }\n}\nconst cartArr = getDataLocalStorage('cart');\nconst id = cartArr.map(item => item._id);\nconsole.log(id);\n\nasync function cardUse() {\n  let cartArr = await getDataLocalStorage(common.CART_KEY);\n  cardCounter.textContent = cartArr.length;\n\n  if (cartArr.length === 0) {\n    cartJsBlock.innerHTML = createMarkupCartEmpty();// createMarkup empty cart\n    return;\n  }\n  renderCards(cartArr);\n  // deleteAllBtn\n}\n\nasync function renderCards() {\n  cartListBlock.innerHTML = '';\n\n  let cartArr = await getDataLocalStorage(common.CART_KEY);\n  for (const cartArrItem of cartArr) {\n    let id = cartArrItem.id;\n    try {\n      const resp = await getProductById(id);\n      const cartId = renderProdCard(resp, id); // !!\n      cartListBlock.innerHTML += cartId;\n      // const deleteBtn = document.querySelector(`.js-cart-block .`);\n      const cartList = document.querySelector(\".js-cart-block .cart-list-block\");\n     \n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n// рендер доданої картки\n\nfunction renderProdCard(product) {\n  if (product.category.includes('_')) {\n    product.category = product.category.replace(/_/g, ' ');\n  }\n\n    return `\n        <div class=\"cart-card-container\" data-productlist-id=\"${product._id}\">\n          <div class=\"cart-image-container\">\n            <img src=\"${product.img}\" alt=\"${product.name}\" class=\"\">\n          </div>\n        \n        <div class=\"cart-info\">\n          <div class=\"cart-descript-text\">\n            <p class=\"cart-prod-name\">${product.name}</p>\n          <div class=\"cart-frame\">\n  \n          <div class=\"category-cont\">\n            <p class=\"cart-category-text\">Category:\n              <span class=\"cart-category-black\">${product.category}</span></p>\n              \n              <ul class=\"cart-text-cat\">\n              <li class=\"cart-text-size\">\n\n            <p class=\"cart-size-text\">Size:\n              <span class=\"cart-size-black\">${product.size}</span></p></li>\n              \n          </div>\n  \n            <div class=\"cart-price\">\n            <p class=\"cart-card-price\">${product.price}</p>\n          </div>\n            <hr class=\"cart-line\">\n          </div>\n        </div>\n      </div>\n    `;\n}\n\nfunction createMarkupCartEmpty() {\n  return ` \n  <div class=\"js-cart-block\">\n  <div class=\"cart-empty-basket\">\n  <img class=\"cart-basket-img\"\n                src=\"../img/yellowBasket.png\"\n                alt=\"yellow basket\"\n                loading=\"lazy\"\n                width=\"132\"\n                height=\"114\"\n              />\n  </div>\n  <div class=\"cart-empty-desc\">\n              <ul class=\"cart-desc-ul\">\n                <li>\n                  <p class=\"cart-empty-text\">\n                    Your basket is <span class=\"cart-text-span\">\n                    empty...</span>\n                  </p>\n                </li>\n                <li>\n                  <p class=\"cart-gray-text\">\n                    Go to the main page to select your favorite <br /> products and add\n                    them to the cart.\n                  </p>\n                </li>\n              </ul>\n            </div>\n  `;\n}\n\n\n{/* // TO BE continued...\n\n //  localStorage\nfunction saveData(data, key) {\n//     localStorage.setItem(key, JSON.stringify(data))\n// }\n\n//  function getData(key) {\n//     const data = localStorage.getItem(key);\n\n//     return data ? JSON.parse(data) : []\n// }\n\n// // addProducts\n\n// export function addProducts() {\n//     const cartArr = getData(common.CART_KEY);\n\n//     cartArr.forEach(_id => {\n//         const products = document.querySelectorAll(`[data-idcards=\"${_id}]`);\n\n//         products.forEach(product => {\n//             const productBtn = // знайти кнопку, яка додає товар\n//                 productBtn.innerHTML = `<svg class=\"_item-checked\"><use href=\"\"></></svg>`;\n//         }\n//             )\n//     })\n// }\n\n// export function removeProducts() {\n//     const cartArr = getData(common.CART_KEY);\n\n//     cartArr.forEach(_id => {\n//         const products = document.querySelectorAll(`[data-idcards=\"${_id}]`);\n\n//     }\n//     )\n// } */}\n"],"names":["getDataLocalStorage","key","data","error","cartArr","id","item"],"mappings":"oCAaoB,SAAS,cAAc,mBAAmB,EAC1C,SAAS,cAAc,gBAAgB,EACrC,SAAS,cAAc,kBAAkB,EAE/D,SAASA,EAAoBC,EAAK,CAChC,GAAI,CACF,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,OAAOC,EAAO,KAAK,MAAMA,CAAI,EAAI,CAAA,CAClC,OAAQC,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CACA,MAAMC,EAAUJ,EAAoB,MAAM,EACpCK,EAAKD,EAAQ,IAAIE,GAAQA,EAAK,GAAG,EACvC,QAAQ,IAAID,CAAE"}