{"version":3,"file":"commonHelpers2.js","sources":["../src/js/FilterMarkUp.js","../src/js/pagination.js","../src/js/ModalMArkUp.js","../src/js/popularMarkup.js","../src/js/popular.js","../src/js/filter.js","../src/js/discountMarkup.js","../src/js/discount.js","../src/js/modal.js"],"sourcesContent":["import { refs } from \"../js/refs\";\nimport iconimg from '/img/icon.svg';\nexport function FilterMarkUp(filterinfo) {\n  const array = filterinfo.map(({ _id, category, img, name, size, popularity, price }) => {\n    if (category.includes('_')) {\n      category = category.replace(/_/g, ' ');\n    }\n    let btnChange = ''; \n    let iconChange = 'shop';\n    const localValue = JSON.parse(localStorage.getItem('cart'));\n    if (localValue) {\n      const findProduct = localValue.find(product => product._id === _id);\n      if (findProduct) {\n        iconChange = 'check';\n        btnChange = 'disabled'\n      }\n    }\n        return `<div class=\"filt-div-card\" data-idcarts=\"${_id}\">\n      <div class=\"filt-div-img\">\n  <img class=\"filt-img\" src=\"${img}\" alt=\"${name}\" width=\"140\">\n  </div>\n  <h2 class=\"filt-h-name\">${name}</h2>\n  <div class=\"filt-div-text\">\n  <div class=\"filt-div-text-new\">\n    <p class=\"filt-text\">Category: <span class=\"filt-span\">${category}</span></p>\n    <p class=\"filt-text\">Size: <span class=\"filt-span\">${size}</span></p>\n    </div>\n    <div class=\"filt-div-text-second\">\n    <p class=\"filt-text\">Popularity: <span class=\"filt-span\">${popularity}</span></p>\n    </div>\n  </div>\n  <div class=\"filt-div-price\"> \n    <h2 class=\"filt-h-price\">$${price}</h2>\n    <button class=\"filt-btn-card\" data-idcards=\"${_id}\" type=\"submit\" ${btnChange}>\n      <svg class=\"filt-card-icon\" height=\"18\" width=\"18\" >\n          <use class=\"filt-use\" href=\"${iconimg}#icon-${iconChange}\"></use>\n        </svg>\n    </button>\n  </div>\n</div>\n`;\n    })\n        .join('');\n  refs.filtercard.innerHTML = array;\n  if (refs.filtercard.innerHTML === '') {\n    refs.filtercard.innerHTML = `<div class=\"filt\"><p class=\"filt-text-no\">Nothing was found for the selected <a href=\"#\" class=\"filt-span-no\"> filters...</a></p>\n    <p class=\"filt-p-no\">Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you. </p>\n    </div>`;\n  }\n}","import { refs } from './refs';\nimport { GetCards } from './filter';\n\nexport const ulTag = document.querySelector('.pagination-list');\nconst paginationFilt = document.querySelector('.pagination');\nconst lastTOtalpage = document.querySelector('.last-total-page');\nconst firstTotalPage = document.querySelector('.pag-first-page');\nconst prewBtn = document.querySelector('.prew-button');\nconst nextBtn = document.querySelector('.next-button');\n\nexport function element(totalPages, page) {\n    let liTag = '';\n    let thirdPagesAnd = totalPages - 2;\n    let thirdPages = page - 2;\n    let curentPage = page;\n  lastTOtalpage.dataset.total = totalPages;\n  if (totalPages === 1) {\n    paginationFilt.style = 'display: none';\n  } else {\n    paginationFilt.style = 'display: flex';\n  }\n  if (page == 1) {\n    prewBtn.setAttribute('disabled', true);\n  } else {\n    prewBtn.removeAttribute('disabled');\n  }\n  if (page == totalPages) {\n    nextBtn.setAttribute('disabled', true);\n  } else {\n    nextBtn.removeAttribute('disabled');\n  }\n\n  if (totalPages > 6) {\n      if (page > totalPages - 4) {\n        page = totalPages - 4;\n      }\n      page === 1 ? (page = page + 1) : null;\n      for (let i = page - 1; i <= page + 1; i++) {\n        if (i == curentPage) {\n          liTag += `<li class=\"pagination-item\"><button class=\"pagination-number active\" type=\"button\">${i}</button></li>`;\n        } else {\n          liTag += `<li class=\"pagination-item\"><button class=\"pagination-number\" type=\"button\">${i}</button></li>`;\n        }\n      }\n      liTag += `<li class=\"pagination-item dot-item\"><span>...</span></li>`;\n      for (let i = thirdPagesAnd; i <= totalPages; i++) {\n        if (i == curentPage) {\n          liTag += `<li class=\"pagination-item\"><button class=\"pagination-number active\" type=\"button\">${i}</button></li>`;\n        } else {\n          liTag += `<li class=\"pagination-item\"><button class=\"pagination-number\" type=\"button\">${i}</button></li>`;\n        }\n      }\n  } \n    ulTag.innerHTML = liTag;\n  if (totalPages > 1 && totalPages < 7) {\n    firstTotalPage.style = 'display: none';\n    lastTOtalpage.style = 'display: none';\n    for (let i = 1; i <= totalPages; i++) {\n      liTag += `<li class=\"pagination-item\"><button class=\"pagination-number\" type=\"button\">${i}</button></li>`;\n    }\n  }\n  ulTag.innerHTML = liTag; //add li tag inside ul tag\n}\n// =============================================================================\n// =============================================================================\n// =============================================================================\n//взяти тотал пейдж з локал сторедж\nasync function loadMor(event) {\n  if (\n    event.target.classList.contains('pagination-arrow') ||\n    event.target.classList.contains('pagination-number')\n  ) {\n    const page = event.target.textContent;\n    const filtersParce = JSON.parse(localStorage.getItem('filters'));\n    filtersParce.page = parseInt(page);\n    localStorage.setItem('filters', JSON.stringify(filtersParce));\n    GetCards();\n  } else {\n    return;\n  }\n}\nasync function prewList(event) {\n  const filtersParce = JSON.parse(localStorage.getItem('filters'));\n   const totalP = filtersParce.totalPages;\n  filtersParce.page = filtersParce.page - 1;\n  localStorage.setItem('filters', JSON.stringify(filtersParce));\n  GetCards();\n}\nasync function nextList(event) {\n  const filtersParce = JSON.parse(localStorage.getItem('filters'));\n  const totalP = filtersParce.totalPages;\n  filtersParce.page = Number(filtersParce.page)+ 1;\n  localStorage.setItem('filters', JSON.stringify(filtersParce));\n  GetCards();\n}\n\nasync function firstPage(event) {\n  const filtersParce = JSON.parse(localStorage.getItem('filters'));\n  filtersParce.page = 1;\n  localStorage.setItem('filters', JSON.stringify(filtersParce));\n  GetCards();\n}\nasync function lastPage(event) {\n  const filtersParce = JSON.parse(localStorage.getItem('filters'));\n  filtersParce.page = lastTOtalpage.dataset.total;\n  localStorage.setItem('filters', JSON.stringify(filtersParce));\n  GetCards();\n}\nulTag.addEventListener('click', loadMor);\n\nprewBtn.addEventListener('click', prewList);\nnextBtn.addEventListener('click', nextList);\n\nfirstTotalPage.addEventListener('click', firstPage);\nlastTOtalpage.addEventListener('click', lastPage);","import iconimg from '/img/icon.svg';\nexport function ModalMarkUP(productInfo) {\n  const { _id, name, category, size, popularity, desc, price, img } =\n    productInfo;\n  const id = document.querySelector('.shop-btn-card');\n  const nameCard = document.querySelector('.shop-h-name');\n  const categoryCard = document.querySelector('.shop-span-category');\n  const sizeCard = document.querySelector('.shop-span-size');\n  const popularityCard = document.querySelector('.shop-span-popularity');\n  const descCard = document.querySelector('.shop-text-discription');\n  const priceCard = document.querySelector('.shop-h-price');\n  const imgCard = document.querySelector('.shop-img');\n  const localValue = JSON.parse(localStorage.getItem('cart'));\n  let findProduct = {};\n  if (localValue) {\n    findProduct = localValue.find(product => product._id === _id) ?? false;\n    // console.log(findProduct);\n  }\n  if (findProduct !== false) {\n    id.innerHTML = `Remove from<svg class=\"shop-card-icon\" height=\"18\" width=\"18\">\n          <use href=\"${iconimg}#icon-shop\"></use>\n        </svg>`;\n    id.setAttribute('data-check', 'true');\n    id.classList.add('shop-btn-card-active');\n  } else {\n    id.innerHTML = `Add to<svg class=\"shop-card-icon\" height=\"18\" width=\"18\">\n          <use href=\"${iconimg}#icon-shop\"></use>\n        </svg>`;\n    id.setAttribute('data-check', 'false');\n    id.classList.remove('shop-btn-card-active');  \n  }\n  id.dataset.idcards = _id;\n  nameCard.textContent = name;\n  categoryCard.textContent = category;\n  sizeCard.textContent = size;\n  popularityCard.textContent = popularity;\n  descCard.textContent = desc;\n  priceCard.textContent = `$${price}`;\n  imgCard.src = img;\n  imgCard.alt = name;\n\n}\n\n","import { refs } from '../js/refs';\nimport iconimg from '/img/icon.svg';\nexport function createPopularCards(product) {\n  const PopulaProduct = product\n    .map(({ _id, category, img, name, size, popularity }) => {\n      if (category.includes('_')) {\n        category = category.replace(/_/g, ' ');\n      }\n      let btnChange = '';\n      let iconChange = 'shop';\n      let backHover = '';\n      const localValue = JSON.parse(localStorage.getItem('cart'));\n      if (localValue) {\n        const findProduct = localValue.find(product => product._id === _id);\n        if (findProduct) {\n          iconChange = 'check';\n          btnChange = 'disabled';\n          backHover = 'popular-icon-back';\n        }\n      }\n      return `\n      <div class=\"popular-card\" data-idcarts=\"${_id}\">\n      <div class=\"popular-background\">\n            <img src=\"${img}\" alt=\"${name}\" class=\"popular-img\">\n          </div>\n        \n        <div class=\"popular-descript\">\n          <div class=\"popular-descript-text\">\n            <p class=\"popular-name\">${name}</p>\n          <div class=\"pop-frame\">\n  \n          <div class=\"category-cont\">\n            <p class=\"popular-text\">Category:\n              <span class=\"popular-word\">${category}</span></p>\n              \n              <ul class=\"pop-text-two-cat\">\n              <li class=\"pop-text-size-pop\">\n\n            <p class=\"popular-text\">Size:\n              <span class=\"popular-word\">${size}</span></p></li>\n              <li>\n            <p class=\"popular-text\">Popularity:\n              <span class=\"popular-word\">${popularity}</span></p></li></ul>\n          </div>\n  \n            <div class=\"popularname-price\">\n          </div>\n          <button data-idcarts=\"${_id}\" class=\"popular-icon-cont ${backHover}\">\n              <svg class=\"popular-icon\" width=\"20\" height=\"20\">\n                <use href=\"${iconimg}#icon-${iconChange}\" class=\"filt-use\"></use>\n              </svg>\n          </button>\n          </div>\n        </div>\n      </div>\n    </div>\n`;\n    })\n    .join('');\n  refs.PopularDiv.innerHTML = PopulaProduct;\n}\n","/* <!-- ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n    Katherine\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴ --> */\n\nimport { refs } from '../js/refs';\nimport { getPopularProduct, getProductById } from './APIFoodBoutique';\nimport { ModalMarkUP } from './ModalMArkUp';\nimport { GetCards } from './filter';\nimport { onChangeCount } from './headerFunctionCount';\nimport { createPopularCards } from './popularMarkup';\nimport iconimg from '/img/icon.svg';\n\ngetRenderPopularCard();\n\n\nexport async function getRenderPopularCard() {\n  try {\n    const response = await getPopularProduct();\n    const product = response.data;\n    createPopularCards(product);\n  } catch (error) {\n\n  }\n}\n\nrefs.PopularDiv.addEventListener('click', OnClick);\n// ВІДКРИТИ МОДАЛЬНЕ ВІКНО\nasync function OnClick(evt) {\n  evt.preventDefault();\n  document.body.style.overflow = \"hidden\";\n  const { target } = evt;\n  //щоб всередині кнопки також працювало\n  const parent = target.closest('.popular-card');\n  if (!parent) return;\n  const block = target.closest('.popular-icon-cont');\n  if (block) return;\n  const id = parent.dataset.idcarts;\n  try {\n    const productInfo = await getProductById(id);\n    ModalMarkUP(productInfo);\n    refs.modalWindowId.classList.remove('is-hidden-card');\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n\nfunction OnAddCartShop(evt) {\n  GetCards();\n  const { target } = evt;\n  const parent = target.closest('.popular-icon-cont');\n  if (!parent) return;\n  const useSvg = parent.querySelector('.filt-use');\n  useSvg.setAttribute('href', `${iconimg}#icon-check`);\n  parent.setAttribute('disabled', 'true');\n  const BtnIconBack = parent;\n  BtnIconBack.classList.add('popular-icon-back');\n  const id = parent.dataset.idcarts;\n  const cart = localStorage.getItem('cart');\n  const parseCart = JSON.parse(cart);\n  if (parseCart) {\n    const findProduct = parseCart.find(product => product._id === id);\n    if (findProduct) {\n      findProduct.quantity += 1;\n      localStorage.setItem('cart', JSON.stringify(parseCart));\n      return;\n    }\n    parseCart.push({ _id: id, quantity: 1 });\n    localStorage.setItem('cart', JSON.stringify(parseCart));\n    onChangeCount();\n    document.body.style.overflow = \"scroll\";\n    return;\n  }\n  if (!parseCart) {\n    const cartList = [];\n    cartList.push({ _id: id, quantity: 1 });\n    localStorage.setItem('cart', JSON.stringify(cartList));\n    onChangeCount();\n  }\n}\nrefs.PopularDiv.addEventListener('click', OnAddCartShop);\n\n\n","/* <!-- ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n    Ондрій + Andrian Pohrebniak + Pasha + Валентин\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴ --> */\n\nimport throttle from 'lodash.throttle';\nimport { refs } from '../js/refs';\nimport { APIProductSearch, APICategories } from './APIFoodBoutique';\nimport { FilterMarkUp } from './FilterMarkUp';\nimport { onChangeCount } from './headerFunctionCount';\nimport iconimg from '/img/icon.svg';\nimport { element} from './pagination';\nimport { getRenderPopularCard } from './popular';\nconst localValueChange = { keyword: null };\nconst localValue = { keyword: null, category: null, page: 1, limit: getLimit() };\nconst select = document.querySelector('.filter-categories')\nif (!localStorage.getItem('filters')) {\n  localStorage.setItem('filters', JSON.stringify(localValue));\n}\n// відслідковування зміни ширини вікна\nwindow.addEventListener('resize', throttle(GetCards, 1000));\nlet totalPageSSS = 0; \n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// РЕНДЕР КАТЕГОРІЙ В СЕЛЕКТІ\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n// ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\nasync function GetCategories() {\n  try {\n    const categResult = await APICategories();\n    const markUpCategories = categResult\n      .map(data => {\n        let replacedata;\n        if (data.includes('_')) {\n          replacedata = data.replace(/_/g, ' ');\n        } else {\n          replacedata = data;\n        }\n        return `<option value=\"${data}\">${replacedata}</option>`;\n      })\n      .join('');\n    refs.categor.innerHTML += markUpCategories;\n    const option = document.createElement('option');\n    option.value = 'Show all';\n    option.textContent = 'Show all';\n    refs.categor.prepend(option);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// РЕНДЕР КАРТОК В СЕЛЕКТІ з врахуванням вибраних фільтрів\nexport async function GetCards() {\n  const limit = getLimit();\n  localValue.limit = limit;\n  const filtersParce = JSON.parse(localStorage.getItem('filters'));\n  if (filtersParce) {\n    localValue.keyword = filtersParce.keyword;\n    localValue.category = filtersParce.category;\n    localValue.page = filtersParce.page;\n    localStorage.setItem('filters', JSON.stringify(localValue));\n    changeForm();\n  }\n  try {\n    const seacrhresult = await APIProductSearch(\n      localValue.keyword,\n      localValue.category,\n      '',\n      '',\n      '',\n      localValue.page,\n      limit\n    );\n    localStorage.setItem('totalPage', JSON.stringify(seacrhresult.totalPages));\n    const results = seacrhresult.results;\n    totalPageSSS = seacrhresult.totalPages; //загальна кількість сторінок\n    element(totalPageSSS, localValue.page) // рендер пагінації;\n    //записуємо все в локал сторедж\n    FilterMarkUp(results);\n  } catch (error) {\n    console.log(error);\n  }\n}\nGetCategories();\nGetCards();\n\nif (refs.form) {\n  refs.form.addEventListener('input', handleFiltersInput);\n  refs.form.addEventListener('submit', handleFiltersSubmit);\n}\n\n// функція запису в локалсторидж при введенні тексту в INPUT\nasync function handleFiltersInput() {\n  const filtersValue = refs.filtersInput.value;\n  localValueChange.keyword = filtersValue;\n  if (filtersValue === '') {\n    localValueChange.keyword = null;\n  }\n\n  localStorage.setItem('keyword', JSON.stringify(localValueChange));\n}\n\n// функція запису значень ключового слова і категорії в локалсторидж при нажатті на кнопку\nasync function handleFiltersSubmit(evt) {\n  evt.preventDefault();\n  const filtersValue = refs.filtersInput.value;\n  localValue.keyword = filtersValue;\n  if (filtersValue === '') {\n    localValue.keyword = null;\n  }\n  const filtersCatValue = refs.filtersCategories.value;\n  localValue.category = filtersCatValue;\n  if (filtersCatValue === '') {\n    localValue.category = null;\n  }\n  if (filtersCatValue === 'Show all') {\n    localValue.category = null;\n  }\n  localValue.page = 1;\n  localStorage.setItem('filters', JSON.stringify(localValue));\n  GetCards();\n  evt.target.reset();\n}\n\n// функція запису ключового слова з локал сторидж  в INPUT при перезавантаженні сторінки.\nfunction changeForm() {\n  try {\n    const keywordParce = JSON.parse(localStorage.getItem('keyword'));\n    if (refs.filtersInput) {\n      refs.filtersInput.value = keywordParce.keyword || '';\n    }\n  } catch (error) {\n    return;\n  }\n}\nchangeForm();\n\n\n// Функція для визначення ліміту в залежності від розміру екрану\nfunction getLimit() {\n  const screenWidth =\n    window.innerWidth ||\n    document.documentElement.clientWidth ||\n    document.body.clientWidth;\n  if (screenWidth >= 1440) {\n    return 9;\n  } else if (screenWidth >= 768) {\n    return 8;\n  } else {\n    return 6; // значення за замовчуванням\n  }\n}\n\nfunction OnAddCartShop(evt) {\n  getRenderPopularCard();\n  const { target } = evt;\n  const parent = target.closest('.filt-btn-card');\n  if (!parent) return;\n  const useSvg = parent.querySelector('.filt-use');\n  useSvg.setAttribute('href', `${iconimg}#icon-check`);\n  parent.setAttribute('disabled', 'true');\n  const id = parent.dataset.idcards;\n  const cart = localStorage.getItem('cart');\n  const parseCart = JSON.parse(cart);\n  if (parseCart) {\n    const findProduct = parseCart.find(product => product._id === id);\n    if (findProduct) {\n      findProduct.quantity += 1;\n      localStorage.setItem('cart', JSON.stringify(parseCart));\n      return;\n    }\n    parseCart.push({ _id: id, quantity: 1 });\n    localStorage.setItem('cart', JSON.stringify(parseCart));\n    onChangeCount();\n    return;\n  }\n  if (!parseCart) {\n    const cartList = [];\n    cartList.push({ _id: id, quantity: 1 });\n    localStorage.setItem('cart', JSON.stringify(cartList));\n    onChangeCount();\n  }\n  \n}\nrefs.listCards.addEventListener('click', OnAddCartShop);\n\nselect.addEventListener('change', change)\nfunction change()\n{\n  \n  const filtersCatValue = refs.filtersCategories.value;\n  localValue.category = filtersCatValue;\n  localValue.page = 1;\n  if (filtersCatValue === '') {\n    localValue.category = null;\n  }\n  if (filtersCatValue === 'Show all') {\n    localValue.category = null;\n  }\n\n  localStorage.setItem('filters', JSON.stringify(localValue));\n  GetCards();\n}","import iconimg from '/img/icon.svg';\nimport { refs } from './refs';\n\nexport function createDiscountCards(product) {\n  const DiscountProduct = product\n  .map(({ _id, img, name, price }) => {\n    let btnChange = '';\n    let iconChange = 'shop';\n    const localValue = JSON.parse(localStorage.getItem('cart'));\n    if (localValue) {\n      const findProduct = localValue.find(product => product._id === _id);\n      if (findProduct) {\n        iconChange = 'check';\n        btnChange = 'disabled';\n      }\n    }\n    return `\n    <div class=\"product-card\" data-idcarts=\"${_id}\">\n  <div class=\"product-background\">\n    <div class=\"discount-label\">\n      <svg class=\"discount-label-icon\" width=\"60\" height=\"60\">\n        <use href=\"${iconimg}#icon-discount\"></use>\n      </svg>\n    </div>\n\n    <img src=\"${img}\" alt=\"${name}\" class=\"product-image\">\n  </div>\n\n  <div class=\"product-details\">\n    <div class=\"details-text\">\n      <h2 class=\"product-name\">${name}</h2>\n\n      <div class=\"price-icon\">\n        <p class=\"product-price\">$${price}</p>\n\n        <button data-idcarts=\"${_id}\" class=\"discount-icon-cont\">\n          <svg class=\"discount-icon\" width=\"18\" height=\"18\">\n            <use href=\"${iconimg}#icon-${iconChange}\" class=\"filt-use\"></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n`;\n    })\n    .join('');\n  refs.DiscountDiv.innerHTML = DiscountProduct;\n}","/* <!-- ₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n    Katherine\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴\n₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴₴ --> */\n// import { refs } from '../main';\n\nimport { refs } from '../js/refs';\nimport { getDiskountProduct, getProductById } from './APIFoodBoutique';\nimport { ModalMarkUP } from './ModalMArkUp';\nimport { GetCards } from './filter';\nimport { onChangeCount } from './headerFunctionCount';\nimport { createDiscountCards } from './discountMarkup';\nimport iconimg from '/img/icon.svg';\n\n// function getRandomProducts(products, count) {\n//   const shuffledProducts = products.sort(() => 0.5 - Math.random());\n//   return shuffledProducts.slice(0, count);\n// }\n\n// getDiskountProduct()\n//   .then(response => response.data)\n//   .then(products => {\n//     const randomProducts = getRandomProducts(products, 2);\n//     const discountContainer = document.getElementById('discountContainer');\n\n//     randomProducts.forEach(product => {\n//       discountContainer.appendChild(createDiscountCards(product));\n//     });\n//   })\n//   .catch(error => {\n//     console.error(error.message);\n//   });\n\ngetRenderDiscountCard();\n\nexport async function getRenderDiscountCard() {\n  try {\n    const response = await getDiskountProduct();\n    const product = response.data;\n    createDiscountCards(product);\n    const randomProducts = getRandomProducts(product, 2);\n    createDiscountCards(randomProducts);\n  } catch (error) {\n\n  }\n  function getRandomProducts(products, count) {\n    const shuffledProducts = products.sort(() => 0.5 - Math.random());\n    return shuffledProducts.slice(0, count);\n  }\n}\n\nrefs.DiscountDiv.addEventListener('click', OnClick);\nasync function OnClick(evt) {\n  evt.preventDefault()\n  document.body.style.overflow = \"hidden\";\n  const { target } = evt;\n\n  const parent = target.closest('.product-card');\n  if (!parent) return;\n  const block = target.closest('.discount-icon-cont');\n  if (block) return;\n  const id = parent.dataset.idcarts;\n  try {\n    const productInfo = await getProductById(id);\n    ModalMarkUP(productInfo);\n    refs.modalWindowId.classList.remove('is-hidden-card');\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n\nasync function OnAddCartShop(evt) {\n  try {\n    const { target } = evt;\n    const parent = target.closest('.discount-icon-cont');\n    if (!parent) return;\n\n    const useSvg = parent.querySelector('.filt-use');\n    useSvg.setAttribute('href', `${iconimg}#icon-check`);\n    parent.setAttribute('disabled', 'true');\n\n    const id = parent.dataset.idcarts;\n    const cart = localStorage.getItem('cart');\n    const parseCart = JSON.parse(cart) || [];\n\n    const findProduct = parseCart.find(product => product._id === id);\n    if (findProduct) {\n      findProduct.quantity += 1;\n    } else {\n      parseCart.push({ _id: id, quantity: 1 });\n      onChangeCount();\n    }\n\n    localStorage.setItem('cart', JSON.stringify(parseCart));\n  } catch (error) {\n\n  }\n  document.body.style.overflow = \"scroll\";\n}\nrefs.DiscountDiv.addEventListener('click', OnAddCartShop);\n\n// function OnAddCartShop(evt) {\n//   GetCards();\n//   const { target } = evt;\n//   const parent = target.closest('.discount-icon-cont');\n//   if (!parent) return;\n//   const useSvg = parent.querySelector('.filt-use');\n//   useSvg.setAttribute('href', `${iconimg}#icon-check`);\n//   parent.setAttribute('disabled', 'true');\n//   const id = parent.dataset.idcarts;\n//   const cart = localStorage.getItem('cart');\n//   const parseCart = JSON.parse(cart);\n//   if (parseCart) {\n//     const findProduct = parseCart.find(product => product._id === id);\n//     if (findProduct) {\n//       findProduct.quantity += 1;\n//       localStorage.setItem('cart', JSON.stringify(parseCart));\n//       return;\n//     }\n//     parseCart.push({ _id: id, quantity: 1 });\n//     localStorage.setItem('cart', JSON.stringify(parseCart));\n//     onChangeCount();\n//     return;\n//   }\n//   if (!parseCart) {\n//     const cartList = [];\n//     cartList.push({ _id: id, quantity: 1 });\n//     localStorage.setItem('cart', JSON.stringify(cartList));\n//     onChangeCount();\n//   }\n// }\n// refs.DiscountDiv.addEventListener('click', OnAddCartShop);\n","\nimport { getProductById } from './APIFoodBoutique';\nimport { ModalMarkUP } from './ModalMArkUp';\nimport { GetCards } from './filter';\nimport { onChangeCount } from './headerFunctionCount';\nimport { getRenderPopularCard } from './popular';\nimport { refs } from './refs';\nconst closeModalBtn = document.querySelector('.shop-modal-close-btn');\n\n// const modalCard = document.querySelector('.shop-div-card');\nrefs.listCards.addEventListener('click', OnClick);\n// ВІДКРИТИ МОДАЛЬНЕ ВІКНО\nasync function OnClick(evt) {\n    evt.preventDefault();\n    const { target } = evt;\n    //щоб всередині кнопки також працювало \n    const parent = target.closest('.filt-div-card');\n    if (!parent) return;\n    const block = target.closest('.filt-btn-card');\n    if (block) return;\n    const id = parent.dataset.idcarts;\n    try {\n        const productInfo = await getProductById(id);\n        ModalMarkUP(productInfo);\n        refs.modalWindowId.classList.remove('is-hidden-card');\n    } catch (error) {\n        console.log(error);\n    }\n    document.body.style.overflow = \"hidden\";\n}\n\ncloseModalBtn.addEventListener('click', OnCloseModal);\nexport function OnCloseModal() {\n    refs.modalWindowId.classList.add('is-hidden-card');\n    document.body.style.overflow = \"scroll\";\n\n}\n\n//ДЛЯ КНОПКИ ДОДАТИ В КОШИК\nfunction OnAddCart(evt) {\n    const { target } = evt;\n    const parent = target.closest('.shop-btn-card');\n    GetCards();\n    getRenderPopularCard();\n    if (!parent) return;\n    const id = parent.dataset.idcards;\n    const dataCheck = parent.dataset.check;\n    console.log(dataCheck);\n    OnCloseModal();\n    const cart = localStorage.getItem('cart');\n    const parseCart = JSON.parse(cart);\n    if (dataCheck === 'false') {\n        if (parseCart) {\n            const findProduct = parseCart.find(product => product._id === id);\n            if (findProduct) {\n                findProduct.quantity += 1;\n                localStorage.setItem('cart', JSON.stringify(parseCart));\n                return;\n            }\n            parseCart.push({ _id: id, quantity: 1 });\n            localStorage.setItem('cart', JSON.stringify(parseCart));\n            onChangeCount();\n            return;\n        }\n        const cartList = [];\n        cartList.push({ _id: id, quantity: 1 });\n        localStorage.setItem('cart', JSON.stringify(cartList));\n        onChangeCount();\n    } else {\n        if (parseCart) {\n            const findProduct = parseCart.find(product => product._id === id);\n            if (findProduct) {\n                const cartList = parseCart.filter(product => product._id !== id);\n                localStorage.setItem('cart', JSON.stringify(cartList));\n                onChangeCount();\n                return;\n            }\n        }\n    }\n}\nrefs.addCartBtn.addEventListener('click', OnAddCart);\n\n"],"names":["FilterMarkUp","filterinfo","array","_id","category","img","name","size","popularity","price","btnChange","iconChange","localValue","product","iconimg","refs","ulTag","paginationFilt","lastTOtalpage","firstTotalPage","prewBtn","nextBtn","element","totalPages","page","liTag","thirdPagesAnd","curentPage","i","loadMor","event","filtersParce","GetCards","prewList","nextList","firstPage","lastPage","ModalMarkUP","productInfo","desc","id","nameCard","categoryCard","sizeCard","popularityCard","descCard","priceCard","imgCard","findProduct","createPopularCards","PopulaProduct","backHover","getRenderPopularCard","getPopularProduct","OnClick","evt","target","parent","getProductById","error","OnAddCartShop","cart","parseCart","onChangeCount","cartList","localValueChange","getLimit","select","throttle","totalPageSSS","GetCategories","markUpCategories","APICategories","data","replacedata","option","limit","changeForm","seacrhresult","APIProductSearch","results","handleFiltersInput","handleFiltersSubmit","filtersValue","filtersCatValue","keywordParce","screenWidth","change","createDiscountCards","DiscountProduct","getRenderDiscountCard","getDiskountProduct","randomProducts","getRandomProducts","products","count","closeModalBtn","OnCloseModal","OnAddCart","dataCheck"],"mappings":"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"}